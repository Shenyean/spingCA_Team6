<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <title>Spring Boot Security</title>
</head>
<body>
<h2>Form Login</h2>
<h4 th:text="${message}"></h4>
<form name='login-form' th:action="@{/{id}/j_spring_security_login(id=${id})}" method='POST'>
    <table>
        <tr>
            <td>Username:</td>
            <td><input type='text' name='username' value='' id="username"></td>
            <p id="error"></p>
        </tr>
        <tr>
            <td>Password:</td>
            <td><input type='password' name='password' /></td>
        </tr>
        <tr>
            <td><input name="submit" type="submit" value="submit" /></td>
        </tr>
    </table>
    <input type="hidden" name="${_csrf.parameterName}" value="${_csrf.token}" />
</form>
<a href="javascript:void(0)" id = "reset" onclick="reset()">reset</a>
</body>
<script
        src="https://code.jquery.com/jquery-3.4.1.min.js"></script>
<script>

    function reset(e){
        var url = window.location.href;
        var n = url.indexOf("login_");
        var id = url.substr(n+6);
       if($("#username").val() == "")
           $("#error").text("Username is not valid. You have to key in your right username first.")
       else {
           window.location.href = "resetPassword/" + id + "/" + $("#username").val();
       }
   }


</script>
</html>